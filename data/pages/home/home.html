<h2><img src="assets/icon-256x256.png">Wecat Admin Page</h2>
<div class="container" ng-init="homeCtrl.initalize()">
    <div class="row wecat-forms">
        <h4 class="sub_heading">User List</h4>
        <div class="col-sm-6">
            <div class="form-group">
                <label>Employee Name:</label>
                <input type="text" class="form-control" ng-model="homeCtrl.formData.name">
            </div>
            <div class="form-group">
                <label>Employee ID:</label>
                <input type="text" class="form-control" ng-model="homeCtrl.formData.empId">
            </div>
            <div class="form-group">
                <label>Work Email:</label>
                <input type="email" class="form-control" ng-model="homeCtrl.formData.workEmail">
            </div>
            <div class="form-group">
                <label>Date of Birth:</label>
                <input type="date" class="form-control" ng-model="homeCtrl.formData.dateOfBirth">
            </div>
            <div class="form-group">
                <label>Contact No:</label>
                <input type="text" class="form-control" ng-model="homeCtrl.formData.contact" maxlength="10">
            </div>
            <div class="form-group">
                <label>Blood Group:</label>
                <select class="form-control" ng-model="homeCtrl.formData.bloodGroup" ng-options="blood for blood in homeCtrl.bloodGroups">
                </select>
            </div>
            <div class="form-group">
                <label>Last Donated:</label>
                <input type="date" class="form-control" ng-model="homeCtrl.formData.lastDonated">
            </div>
            <div class="form-group">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" ng-model="homeCtrl.formData.isWecatMember"> is Wecat Member?
                    </label>
                </div>
            </div>
            <div class="form-group" ng-if="homeCtrl.formData.isWecatMember">
                <label>Select Wecat Role:</label>
                <select class="form-control" ng-model="homeCtrl.formData.wecatRole" ng-options="role for role in homeCtrl.wecatRoles">
                </select>
            </div>
            <button class="btn btn-warning" ng-click="homeCtrl.clearUser()">Clear</button>
            <button class="btn btn-primary" ng-if="!homeCtrl.isEditUser" ng-click="homeCtrl.submitUser()">Add</button>
            <button class="btn btn-primary" ng-if="homeCtrl.isEditUser" ng-click="homeCtrl.updateUser()">Save</button>
            <button class="btn btn-success" ng-click="homeCtrl.addNewUser()">Add New User</button>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <label for="usr">Filter User Table:</label>
                <input type="text" class="form-control" id="filterinput" ng-model="homeCtrl.filterInput">
            </div>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th></th>
                            <th>EmpId</th>
                            <th>Name</th>
                            <th>Work Email</th>
                            <th>Contact Number</th>
                            <th>DateOfBirth</th>
                            <th>Age</th>
                            <th>Blood Group</th>
                            <th>LastDonated</th>
                            <th>Availabilty</th>
                            <th>Days Remaining</th>
                            <th class="text-right">Wecat Role</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="row in homeCtrl.userList | filter: homeCtrl.filterInput">
                            <td>{{$index+1}}</td>
                            <td>
                                <div class="btn-group btn-group-xs" role="group">
                                    <button type="button" class="btn btn-primary" ng-click="homeCtrl.editUser(row)">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                    </button>
                                    <button type="button" class="btn btn-danger" ng-click="homeCtrl.deleteUser(row)">
                                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </td>
                            <td>{{row.empId}}</td>
                            <td>{{row.name}}</td>
                            <td>{{row.workEmail}}</td>
                            <td>{{row.contact}}</td>
                            <td>{{row.dateOfBirth | date:'dd-MMM-yy'}}</td>
                            <td>{{row.age}}</td>
                            <td>{{row.bloodGroup}}</td>
                            <td>{{row.lastDonated | date:'dd-MMM-yy'}}</td>
                            <td>{{row.isAvailable}}</td>
                            <td>{{row.daysRemaining}}</td>
                            <td class="text-right">{{(row.isWecatMember) ? row.wecatRole: "Nil"}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row wecat-forms">
        <h4 class="sub_heading">Medikit</h4>
        <div class="col-sm-6">
            <div class="form-group">
                <label>Medicine Name:</label>
                <input type="text" class="form-control" ng-model="homeCtrl.medikitFormData.name">
            </div>
            <div class="form-group">
                <label>Expiry Date:</label>
                <input type="date" class="form-control" ng-model="homeCtrl.medikitFormData.expiryDate">
            </div>
            <div class="form-group">
                <label>Count:</label>
                <input type="text" class="form-control" ng-model="homeCtrl.medikitFormData.count">
            </div>
            <div class="form-group">
                <label>Purchase Date:</label>
                <input type="date" class="form-control" ng-model="homeCtrl.medikitFormData.purchaseDate">
            </div>
            <div class="form-group">
                <label>Description:</label>
                <textarea class="form-control" ng-model="homeCtrl.medikitFormData.description"></textarea>.
            </div>
            <button class="btn btn-warning" ng-click="homeCtrl.clearMedicine()">Clear</button>
            <button class="btn btn-primary" ng-if="!homeCtrl.isEditMedicine" ng-click="homeCtrl.addMedicine()">Add</button>
            <button class="btn btn-primary" ng-if="homeCtrl.isEditMedicine" ng-click="homeCtrl.updateMedicine()">Save</button>
            <button class="btn btn-success" ng-click="homeCtrl.addNewMedicine()">Add New Medicine</button>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <label for="usr">Filter Medikit Table:</label>
                <input type="text" class="form-control" id="filterinput" ng-model="homeCtrl.filterInputMedikit">
            </div>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th></th>
                            <th>Name</th>
                            <th>ExpiryDate</th>
                            <th>PurachaseDate</th>
                            <th>Description</th>
                            <th class="text-right">Count</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="medicine in homeCtrl.medikitList | filter: homeCtrl.filterInputMedikit">
                            <td>{{$index+1}}</td>
                            <td>
                                <div class="btn-group btn-group-xs" role="group">
                                    <button type="button" class="btn btn-primary" ng-click="homeCtrl.editMedicine(medicine)">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                    </button>
                                    <button type="button" class="btn btn-danger" ng-click="homeCtrl.deleteMedicine(medicine)">
                                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </td>
                            <td>{{medicine.name}}</td>
                            <td>{{medicine.expiryDate | date:'dd-MMM-yy'}}</td>
                            <td>{{medicine.purchaseDate | date:'dd-MMM-yy'}}</td>
                            <td>{{medicine.description}}</td>
                            <td class="text-right">{{medicine.count}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>
<div id="snackbar">{{homeCtrl.snackMsg}}</div>
